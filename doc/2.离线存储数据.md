每一次刷新一下浏览器，都会很绝望的发现，之前的数据没有了，这实在是很难忍受。
因为开发过程中使用了webpack的热更新，变更一下代码，浏览器就自动刷新，然后悲剧就出现了。

通过简单的调研，相对比`localStorage`而言，使用`indexDB`比较有吸引力，
毕竟这个是学习型的项目，只要chrome下可行就行了。操作`indexDB`的库比较多，选择一个api比较简单易懂的`Dexie.js`

引用`indexDB`操作之后，由于查询和存储都是异步的了，需要引入一下`redux-thunk`来处理

```
const store = createStore(reducer, applyMiddleware(...[thunk]));
```

然后变更一下`actions/index.js`中的相对应的事件, 例如添加todo的行为

```
// 添加todo行为
export const addTodo = (text, date)=> (dispatch, getState) => {
    addTodoToDb({
        text: text,
        date: date,
        completed: false
    }).then(res => {
        return dispatch({type: types.ADD_TODO, text, date});
    });
};
```

其相对应的db操作是：

```
import Dexie from 'dexie';

let db = new Dexie('TestTodo');

db.version(0.1).stores({todo: '++id'});
db.open().catch (function (err) {
    console.error('Failed to open db: ' + (err.stack || err));
});

// 添加todo到indexDB中
export const addTodoToDb = (todo) => {
    return db.todo.put({
        ...todo
    }).then( res => {
        console.log('add success');
        return res;
    })
};
```

`Dexie.js`提供的API基本和js数组的API很相像，所以操作起来比较流畅，
如果只是涉及数据的存储话，使用还是比较方便。